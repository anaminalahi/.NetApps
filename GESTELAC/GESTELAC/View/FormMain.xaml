<Window x:Class="FormMain"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:GESTELAC"
        mc:Ignorable="d"
        Title="GESTELAC Version 1.0 Pour Windows" Height="1024" Width="768" WindowStartupLocation="CenterScreen">
    <Window.DataContext>
        <local:FormMainViewModel x:Name="myViewModel"></local:FormMainViewModel>
    </Window.DataContext>
    <Grid x:Name="GridMain">
        
        <Grid.RowDefinitions>
            <RowDefinition Height="40"/>
            <RowDefinition Height="2"/>
            <RowDefinition Height="30"/>
            <RowDefinition Height="10"/>
            <RowDefinition Height="300"/>
            <RowDefinition Height="300"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="30"/>
        </Grid.RowDefinitions>

        <Label x:Name="LBL_Header" Grid.Row="0" Content="GESTION DES ACCESSOIRES ET DES COMPTABILITES" HorizontalAlignment="Stretch" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Foreground="White" FontWeight="Bold" Grid.ColumnSpan="2">
            <Label.Background>
                <RadialGradientBrush>
                    <GradientStop Color="#FF096C89" Offset="0"/>
                    <GradientStop Color="#FF020202" Offset="1"/>
                    <GradientStop Color="Blue"/>
                </RadialGradientBrush>
            </Label.Background>
        </Label>

        <Grid x:Name="TLP_Head" Grid.Row="2" Background="AliceBlue">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="125"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="100"/>
                <ColumnDefinition Width="5"/>
                <ColumnDefinition Width="100"/>
            </Grid.ColumnDefinitions>
            <Label x:Name="LBL_SKU_Asked" Grid.Row="0" Content="  Entrez le SKU :" HorizontalAlignment="Stretch" HorizontalContentAlignment="Left" FontWeight="Bold" Background="LightGray"></Label>
            <TextBox x:Name="TxtB_SKU" Text="{Binding szSkuToSearch}" Grid.Column="1" Grid.Row="0" Margin="2" BorderBrush="Blue"></TextBox>
            <Button x:Name="BtnChercher" Command="{Binding CMD_CHERCHER_SKU}" Grid.Column="2" Margin="2" Content="Rechercher" Background="Black" Foreground="White"></Button>
            <Button x:Name="BtnQuitter" Command="{Binding CMD_QUITTER}" Grid.Column="4" Margin="2" Content="Quitter" Background="Red" Foreground="White"></Button>
        </Grid>

        <GroupBox x:Name="GrbAccessoire" Grid.Row="4" Margin="2" BorderBrush="Blue" Header="Fiche de l'accessoire">

            <Grid x:Name="BoxDetails00">

                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="200"/>
                </Grid.ColumnDefinitions>

                <Grid x:Name="BoxColonne00" Grid.Column="0" Margin="4">

                    <Grid.RowDefinitions>
                        <RowDefinition Height="30"/>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="60"/>
                        <RowDefinition Height="30"/>
                    </Grid.RowDefinitions>

                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="110"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Label x:Name="lblLibelle_Francais" Content=" Nom du Produit" Grid.Column="0" Grid.Row="0" VerticalAlignment="Center"></Label>
                    <TextBox x:Name="TxtLibelle_Francais" Text="{Binding SelectedAccessoire.Libelle_Francais}"   Grid.Column="1" Grid.Row="0" Margin="2" BorderBrush="DarkGray"/>
                    <Label x:Name="lblDescription" Content=" Description" Grid.Column="0" Grid.Row="1" VerticalAlignment="Center" ></Label>
                    <TextBox x:Name="TxtDescription" Text="{Binding SelectedAccessoire.Description}" Grid.Column="1" 
                             Grid.Row="1" Margin="2" 
                             BorderBrush="DarkGray" 
                             TextWrapping="Wrap" 
                             VerticalScrollBarVisibility="Auto" 
                             AcceptsReturn="True"/>

                    <Grid x:Name="Box01" Grid.Column="0" Grid.Row="2" >
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Label x:Name="lblPrixPlancher" Content=" Prix De Plancher" Grid.Row="0" VerticalAlignment="Center"></Label>
                        <Label x:Name="lblPrixDeRevient" Content=" Prix De Revient" Grid.Row="1" VerticalAlignment="Center"></Label>
                    </Grid>

                    <Grid x:Name="Box02" Grid.Column="1" Grid.Row="2" >
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <TextBox x:Name="TxtPrixPlancher" Text="{Binding SelectedAccessoire.PriceDeBase}" Grid.Column="0" Grid.Row="0" Margin="2" BorderBrush="DarkGray"/>
                        <TextBox x:Name="TxtPrixDeRevient" Text="{Binding SelectedAccessoire.PrixDeVente}" Grid.Column="0" Grid.Row="1" Margin="2" BorderBrush="DarkGray"/>
                        <Label x:Name="lblMeilleurPrix" Content=" Meilleur Prix" Grid.Column="1" Grid.Row="0" VerticalAlignment="Center"></Label>
                        <Label x:Name="lblStock" Content=" Stock" Grid.Column="1" Grid.Row="1" VerticalAlignment="Center"></Label>
                        <TextBox x:Name="TxtMeilleurPrix" Text="{Binding SelectedAccessoire.PrixPublic}" Grid.Column="2" Grid.Row="0" Margin="2" BorderBrush="DarkGray"/>
                        <TextBox x:Name="TxtStock" Text="{Binding SelectedAccessoire.Stock}" Grid.Column="2" Grid.Row="1" Margin="2" BorderBrush="DarkGray"/>
                    </Grid>
                    <Label x:Name="lblStatuts" Content=" Statut" Grid.Column="0" Grid.Row="3" VerticalAlignment="Center"></Label>
                    <Grid x:Name="Box03" Grid.Column="1" Grid.Row="3" >

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="150"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <ComboBox x:Name="CmbStatuts" 
                              Grid.Column="0" 
                              Grid.Row="3" 
                              Margin="2" 
                              Width="132" 
                              HorizontalAlignment="Left"
                              Text="{Binding SelectedAccessoire.IdStatut}"
                              ItemsSource="{Binding ListeDesStatuts}"
                              DisplayMemberPath="IdStatut"
                              BorderBrush="DarkGray">
                        </ComboBox>

                        <Button x:Name="BtnMettreAJour" Command="{Binding CMD_UPDATE_SKU}" Grid.Column="2" Margin="2" Content="Mettre à Jour" Background="Blue" Foreground="White"></Button>

                    </Grid>

                </Grid>

                <Grid x:Name="BoxRight" Grid.Column="1" Margin="2">

                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="30"/>
                    </Grid.RowDefinitions>
                    
                    <GroupBox x:Name="Photo" Header="Visuel" Grid.Row="0" Background="White" BorderBrush="Blue">
                        
                        <!--<Image x:Name="PhotoAccessoire" Source="{Binding SelectedAccessoire.Visuel}" Margin="2" Stretch="Fill"></Image>-->

                        <ListBox Name="ListBoxPhoto" ItemsSource="{Binding SelectedAccessoire.MesVisuels}"
                         SelectionMode="Single" IsSynchronizedWithCurrentItem="True" Margin="0" VerticalAlignment="Stretch">
                            <ListBox.ItemTemplate>
                                <DataTemplate>
                                    <Image Source="{Binding Path=ImageAccessoire}" Width="140" Margin="0" Stretch="Fill"/>
                                </DataTemplate>
                            </ListBox.ItemTemplate>
                        </ListBox>

                    </GroupBox>
                    
                    <Button x:Name="BtnAjouterImage" Command="{Binding CMD_AJOUTER_IMAGE}" Grid.Row="2" Margin="2" Content="Ajouter Image" Background="Black" Foreground="White"></Button>

                </Grid>

            </Grid>
            <GroupBox.Background>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="White" Offset="0" />
                    <GradientStop Color="#FFD4D4D4" Offset="1" />
                </LinearGradientBrush>
            </GroupBox.Background>
        </GroupBox>

        <GroupBox x:Name="GrbValeurs" Grid.Row="5" Margin="2" BorderBrush="Blue" Header="Valeurs Et Description">
            <TabControl  Margin="2">
                <TabItem Header="Liste des Valeurs">

                    <Grid x:Name="BoxDetails01" Margin="2">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="30"/>
                        </Grid.RowDefinitions>
                        <DataGrid Name="dtgridAccessoiresProprietes" Grid.Row="0"  ItemsSource="{Binding SelectedAccessoire.MesProprietes}"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Margin="4" AlternationCount="2" CanUserAddRows="False" CanUserDeleteRows="False" CanUserResizeRows="False" AlternatingRowBackground="LightBlue" AutoGenerateColumns="FALSE">
                            <DataGrid.Columns>
                                <DataGridTextColumn Header="Clé" Binding="{Binding Path=Cle}" Width="150"/>
                                <DataGridTextColumn Header="Valeur" Binding="{Binding Path=Valeur}" Width="350"/>
                                <!--<DataGridTextColumn Header="Parent" Binding="{Binding Path=Parent}"/>-->
                            </DataGrid.Columns>
                            <DataGrid.Resources>
                                <LinearGradientBrush x:Key="DegradeSelectedRow" StartPoint="0,0" EndPoint="0,1">
                                    <GradientStop Color="#fff" Offset="0" />
                                    <GradientStop Color="#FFCAF288" Offset="1" />
                                </LinearGradientBrush>
                            </DataGrid.Resources>
                            <DataGrid.CellStyle>
                                <Style TargetType="{x:Type DataGridCell}">
                                    <Style.Triggers>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter Property="Background" Value="{DynamicResource ResourceKey=DegradeSelectedRow}"/>
                                            <Setter Property="Foreground" Value="Black" />
                                        </Trigger>
                                    </Style.Triggers>
                                    <Setter Property="Cursor" Value="Hand" />
                                </Style>
                            </DataGrid.CellStyle>
                        </DataGrid>

                        <Grid x:Name="Box04" Grid.Column="1" Grid.Row="3">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="140"/>
                                <ColumnDefinition Width="100"/>
                                <ColumnDefinition Width="100"/>
                            </Grid.ColumnDefinitions>
                            <Button x:Name="BtnNouveau" Command="{Binding CMD_NOUVELLE_VALEUR}" Grid.Column="1" Margin="2" Content="Nouveau" Background="Blue" Foreground="White"></Button>
                            <Button x:Name="BtnEditer" Command="{Binding CMD_MODIFIER_VALEUR}" Grid.Column="2" Margin="2" Content="Modifier" Background="Black" Foreground="White"></Button>
                            <Button x:Name="BtnSupprimer" Command="{Binding CMD_SUPPRIMER_VALEUR}" Grid.Column="3" Margin="2" Content="Supprimer" Background="red" Foreground="White"></Button>
                        </Grid>
                    </Grid>

                </TabItem>
                <TabItem Header="Description Html">
                    <Grid x:Name="BoxDetails02" Margin="2">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="30"/>
                        </Grid.RowDefinitions>
                        <Label Content="{Binding SelectedAccessoire.Description_Html }" HorizontalAlignment="Stretch" VerticalAlignment="Stretch" Grid.Row="0" Margin="2" Padding="2" BorderBrush="Blue"></Label>
                        <Button x:Name="BtnPrevisualisation" Command="{Binding CMD_PREVISUALISER}" Grid.Row="1" Margin="2" Content="Prévisualiser" Background="blue" Foreground="White"></Button>
                    </Grid>
                </TabItem>
            </TabControl>
            <GroupBox.Background>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="White" Offset="0" />
                    <GradientStop Color="#FFD4D4D4" Offset="1" />
                </LinearGradientBrush>
            </GroupBox.Background>
        </GroupBox>

        <GroupBox x:Name="GrbMobiles" Grid.Row="6" Margin="2" BorderBrush="Blue" Header="Mobiles Compatibles">
            <DataGrid Name="dtgridModeles" ItemsSource="{Binding SelectedAccessoire.MesCompatibles}"  VerticalAlignment="Stretch" HorizontalAlignment="Stretch" Margin="4" AlternationCount="2" CanUserAddRows="False" CanUserDeleteRows="False" CanUserResizeRows="False" AlternatingRowBackground="LightBlue" AutoGenerateColumns="FALSE">
                <DataGrid.Columns>
                    <DataGridTextColumn Header="NomDuModele" Binding="{Binding Path=NomDuModele}"/>
                    <DataGridTextColumn Header="ReferenceTechnique" Binding="{Binding Path=ReferenceTechnique}"/>
                    <DataGridTextColumn Header="NomDeLaMarque" Binding="{Binding Path=NomDeLaMarque}"/>
                    <DataGridTextColumn Header="Image Url" Binding="{Binding Path=UrlImage}"/>
                    <DataGridTextColumn Header="GsmArena Url" Binding="{Binding Path=GsmArenaUrl}"/>
                </DataGrid.Columns>
                <DataGrid.Resources>
                    <LinearGradientBrush x:Key="DegradeSelectedRow" StartPoint="0,0" EndPoint="0,1">
                        <GradientStop Color="#fff" Offset="0" />
                        <GradientStop Color="#FFCAF288" Offset="1" />
                    </LinearGradientBrush>
                </DataGrid.Resources>
                <DataGrid.CellStyle>
                    <Style TargetType="{x:Type DataGridCell}">
                        <Style.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Background" Value="{DynamicResource ResourceKey=DegradeSelectedRow}"/>
                                <Setter Property="Foreground" Value="Black" />
                            </Trigger>
                        </Style.Triggers>
                        <Setter Property="Cursor" Value="Hand" />
                    </Style>
                </DataGrid.CellStyle>
            </DataGrid>
            <GroupBox.Background>
                <LinearGradientBrush EndPoint="0.5,1" StartPoint="0.5,0">
                    <GradientStop Color="White" Offset="0" />
                    <GradientStop Color="#FFD4D4D4" Offset="1" />
                </LinearGradientBrush>
            </GroupBox.Background>
        </GroupBox>

        <!-- Box_Footer -->
        <Grid x:Name="BoxFooter" Grid.Column="0" Grid.Row="7" Grid.ColumnSpan="2">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="100"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="150"/>
                <ColumnDefinition Width="100"/>
                <ColumnDefinition Width="100"/>
            </Grid.ColumnDefinitions>
            <TextBlock Name="TxtInfosTacheEnCours" Grid.Column="1" Text="{Binding Path=IHM_Messages,Mode=TwoWay}"  Foreground="Blue" FontWeight="Bold" VerticalAlignment="Center"></TextBlock>
            <Button x:Name="BtnRapprocher" Command="{Binding CMD_RAPPROCHER}" Grid.Column="0" Margin="2" Content="Rapprocher" Background="Black" Foreground="White"></Button>
            <RadioButton Name="Radio01" Command="{Binding CMD_FILTRER}"  Grid.Column="3" Content="Tous" HorizontalAlignment="Center" VerticalAlignment="Center" IsChecked="True"></RadioButton>
            <RadioButton Name="Radio02" Command="{Binding CMD_FILTRER}" Grid.Column="4" Content="Aucun" HorizontalAlignment="Center" VerticalAlignment="Center"></RadioButton>
        </Grid>
        <!-- Fin Box_Footer -->
    </Grid>
</Window>

